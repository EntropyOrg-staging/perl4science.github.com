
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>How to Edit This Site - Perl 4 Science</title>
  <meta name="author" content="Joel Berger">

  
  <meta name="description" content="How to Edit This Site Jul 16th, 2012 This site is hosted on GithHub at https://github.com/perl4science/perl4science.github.com. But wait! Thats not &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://perl4science.github.com/howto/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Perl 4 Science" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup style="float: left">
  <h1><a href="/">Perl 4 Science</a></h1>
  
    <h2>doing science in our favorite language</h2>
  
</hgroup>
<object style="float: right" type="image/svg+xml" data="/images/onion-scientist.svg" width="200" height="200"></object>


</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:perl4science.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/software">Software</a></li>
  <li><a href="/videos">Videos</a></li>
  <li><a href="/blog">Blog</a></li>
  <li><a href="https://groups.google.com/forum/#!forum/the-quantified-onion" target="_blank">Google Group</a></li>
  <li><a href="/howto">Site HowTo</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">How to Edit This Site</h1>
    <p class="meta">








  


<time datetime="2012-07-16T00:00:00-05:00" pubdate data-updated="true">Jul 16<span>th</span>, 2012</time></p>
  </header>
  
  <p>This site is hosted on GithHub at <a href="https://github.com/perl4science/perl4science.github.com">https://github.com/perl4science/perl4science.github.com</a>. But wait! Thats not enough to go tinkering just yet. Please read at least through the section entitled <em>For small changes</em> before contributing. Thanks.</p>

<h2>Octopress</h2>

<p>This site uses <a href="http://octopress.org/">Octopress</a> to manage and publish a <a href="http://github.com/mojombo/jekyll">Jekyll</a> site hosted on <a href="http://pages.github.com/">GitHub Pages</a>. While GitHub Pages/Jekyll are cool, they aren&#8217;t the easiest to use/maintain; that&#8217;s where Octopress comes in. Before reading on, take a moment to read up on Jekyll and Octopress.</p>

<h2>Structure</h2>

<p>An Octopress site is one git repository with (at least) two branches.</p>

<ul>
<li><code>master</code> - contains just the published site. This is autogenerated, don&#8217;t touch it.</li>
<li><code>source</code> - contains the source documents, the generated documents and the Octopress engine.</li>
</ul>


<p>The Jekyll-formatted source documents are inside the <code>source</code> folder. The configuration is in the <code>_config.yml</code> and <code>Rakefile</code> files. Some of the style files are in the <code>sass</code> folder.</p>

<h2>For small changes &#8230;</h2>

<p>Running Octopress makes administering the site easy, but its rather heavy if you only want to make a few line changes. If this is all you want to do, then</p>

<ol>
<li>Fork the repo</li>
<li>Be sure you are on the branch <code>source</code></li>
<li>Edit the files in the folder <code>source</code></li>
<li>Commit to your fork</li>
<li>Submit a pull request for consideration</li>
</ol>


<p>If you want to create new pages or blog posts, or if you want to be able to deploy the site, you will need to read on!</p>

<h2>Setting up your system</h2>

<p>Be sure that your system is setup as detailed on the <a href="http://octopress.org/docs/setup/">Octopress setup site</a>. Currently Octopress uses Ruby 1.9.2. Here is a quick setup using <a href="https://rvm.io/">rvm</a> (which is like <a href="http://perlbrew.pl/">PerlBrew</a> for Ruby).</p>

<p>First, be sure you have <code>libssl-dev</code> installed, Octopress has trouble if you don&#8217;t. On Debian/Ubuntu this is done with</p>

<pre><code>$ sudo apt-get install libssl-dev
</code></pre>

<p>Install rvm by running</p>

<pre><code>$ curl -L https://get.rvm.io | bash -s stable
</code></pre>

<p>and be sure to <code>source</code> the setup file (and add it to your <code>.bashrc</code> file if you want it to work after every boot).</p>

<p>Then install Ruby 1.9.2</p>

<pre><code>$ rvm install 1.9.2
</code></pre>

<p>it will likely list a number of dependencies that you should install, do so in another shell, then continue.</p>

<p>Finally you will need the <code>bundler</code> gem, so do</p>

<pre><code>$ gem install bundler
</code></pre>

<h2>Fork/clone the repo</h2>

<p>Remember, we will only talk aout the <code>source</code> branch, be sure you are <strong>always</strong> using it, not <code>master</code>.</p>

<p>Clone the site, directly to the <code>source</code> branch</p>

<pre><code>$ git clone -b source git@github.com:perl4science/perl4science.github.com.git
</code></pre>

<p>Note that the url may be your fork if you do not have commit rights to the main repo.</p>

<p>Then <code>cd</code> into the new directory. Note that rvm may warn you here, enter <code>y</code> to continue. Now install the necessary bundles with</p>

<pre><code>$ bundle install
</code></pre>

<p>Finally if you want to be able to deploy the site, if you have commit rights, you will need to run</p>

<pre><code>$ rake setup_github_pages
</code></pre>

<p>and when prompted enter the ssh url of the repository <code>git@github.com:perl4science/perl4science.github.com.git</code></p>

<h2>Editing the site</h2>

<p>Well thats a lot of stuff but you should be ready to go now!</p>

<h2>Create a new post</h2>

<p>Create a new blog post by issuing</p>

<pre><code>rake new_post["title"]
</code></pre>

<p>This will create a new blog file. It will already contain some metadata in the usual Jekyll way. Under the metadata, add your markdown formatted content. Once the blog is regenerated the post should show up in the blog section of the site.</p>

<h2>Create a new page</h2>

<p>Like a new blog post, creating a page is as easy as</p>

<pre><code>rake new_page["title"]
</code></pre>

<p>Again this will create a new file, but it will be in a folder based on the name, the file being <code>index.markdown</code>. Once you regenerate the site, the page will be available at <code>http://perl4science.github.com/title</code>. There will not be links to it however, so you will need to link to it appropriately. This might involve adding a link to the navbar <code>source/_includes/custom/navigation.html</code>, though you should do that infrequently, for obvious space reasons.</p>

<h2>Generate local site from the source</h2>

<p>Running</p>

<pre><code>rake generate
</code></pre>

<p>will take the source from the <code>source</code> directory and copy it to the <code>public</code> directory filling in the data along the way.</p>

<h2>Previewing the site locally</h2>

<p>To start a local server to preview the site, run</p>

<pre><code>rake preview
</code></pre>

<p>and then visit the site at <code>localhost:4000</code> (or whatever it tells you). You should be able to see the site. When you save source files, it should regenerate the site for you, simply refresh the page to see the result.</p>

<h2>Deploying the site</h2>

<p>If you have commit privileges to the main repository, and assuming you did the required setup step above, you can issue</p>

<pre><code>rake deploy
</code></pre>

<p>it should push the local changes to the <code>master</code> branch on GitHub and thus it will be publically viewable. Note that in this case you should also commit your changes to the <code>source</code> branch and push them.</p>

<pre><code>git commit -a -m 'message'
git push origin source
</code></pre>

<p>If you don&#8217;t have commit rights, you should commit to your local fork, then issue a pull request from your <code>source</code> branch and we will evaluate your changes and hopefully deploy them soon.</p>

  
    <footer>
      <p class="meta">
        
  

<span class="byline author vcard">Posted by <span class="fn">Joel Berger</span></span>

        








  


<time datetime="2012-07-16T00:00:00-05:00" pubdate data-updated="true">Jul 16<span>th</span>, 2012</time>
        
      </p>
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://perl4science.github.com/howto/index.html" data-via="" data-counturl="http://perl4science.github.com/howto/index.html" >Tweet</a>
  
  
  
</div>

      
    </footer>
  
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Joel Berger -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
